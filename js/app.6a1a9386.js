(function(){"use strict";var t={4724:function(t,e,n){var a=n(5130),o=n(6768);function i(t,e,n,a,i,s){const c=(0,o.g2)("Header"),r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(c),(0,o.bF)(r)],64)}const s=t=>((0,o.Qi)("data-v-b16c79e0"),t=t(),(0,o.jt)(),t),c={class:"app-header"},r=s((()=>(0,o.Lk)("div",{class:"graph-icon-container"},[(0,o.Lk)("div",{class:"graph-icon"})],-1))),u={key:0,class:"nav-bar-container"},d=s((()=>(0,o.Lk)("div",{class:"logout-icon"},null,-1))),l=[d];function h(t,e,n,a,i,s){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",c,[r,0!=t.uid.length?((0,o.uX)(),(0,o.CE)("nav",u,[(0,o.bF)(d,{class:"link-element",to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)("Accounts")])),_:1}),(0,o.eW)(" | "),(0,o.bF)(d,{class:"link-element",to:"/categories"},{default:(0,o.k6)((()=>[(0,o.eW)("Categories")])),_:1})])):(0,o.Q3)("",!0),0!=t.uid.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"logout-icon-container",onClick:e[0]||(e[0]=(...t)=>s.logoutUser&&s.logoutUser(...t))},l)):(0,o.Q3)("",!0)])}var p=n(5002),m=n(782),b={name:"Header",data(){return{}},computed:{...(0,m.L8)(["auth","uid"])},methods:{...(0,m.PY)(["setUid"]),logoutUser(){(0,p.CI)(this.auth).then((t=>{this.setUid(""),this.$router.replace({name:"home"})}))}}},f=n(1241);const k=(0,f.A)(b,[["render",h],["__scopeId","data-v-b16c79e0"]]);var g=k,v=n(6400),A=n(9675),L={components:{Header:g},data(){return{}},computed:{...(0,m.L8)(["uid"])},methods:{...(0,m.PY)(["setApp","setAuth","setDb","setUid"])},mounted(){const t={apiKey:"AIzaSyAo7NfVUZ7KQBnaK47rkT2B6KAYqvEaMps",authDomain:"pama-8b336.firebaseapp.com",projectId:"pama-8b336",storageBucket:"pama-8b336.appspot.com",messagingSenderId:"942670689497",appId:"1:942670689497:web:33f90709fe005e0f7d7ac8"},e=(0,v.Wp)(t);this.setApp(e);const n=(0,p.xI)(e);this.setAuth(n);const a=(0,A.aU)(e);this.setDb(a)}};const y=(0,f.A)(L,[["render",i]]);var C=y,w=n(1387);function E(t,e,n,a,i,s){const c=(0,o.g2)("login"),r=(0,o.g2)("bank-accounts-list");return 0==t.uid.length?((0,o.uX)(),(0,o.Wv)(c,{key:0})):((0,o.uX)(),(0,o.Wv)(r,{key:1}))}var B=n(4232);const I=t=>((0,o.Qi)("data-v-73e86fea"),t=t(),(0,o.jt)(),t),N={key:0,class:"login-container"},j={class:"login-input-container"},D=I((()=>(0,o.Lk)("label",{for:"email"},"Email:",-1))),M={class:"login-input-container"},_=I((()=>(0,o.Lk)("label",{for:"password"},"Password:",-1)));function O(t,e,n,i,s,c){return s.visible?((0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("div",j,[D,(0,o.bo)((0,o.Lk)("input",{id:"email",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>s.email=t)},null,512),[[a.Jo,s.email]])]),(0,o.Lk)("div",M,[_,(0,o.bo)((0,o.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>s.password=t)},null,512),[[a.Jo,s.password]])]),(0,o.Lk)("div",{class:(0,B.C4)(["error-msg",[s.showErrorMsg?"":"not-visible"]])}," Wrong user or password ",2),(0,o.Lk)("div",{class:"login-btn",onClick:e[2]||(e[2]=(...t)=>c.login&&c.login(...t))}," Login ")])):(0,o.Q3)("",!0)}var U={name:"Login",data(){return{visible:!1,email:"",password:"",showErrorMsg:!1}},computed:{...(0,m.L8)(["app","auth","uid"])},methods:{...(0,m.PY)(["setUid"]),login(){(0,p.x9)(this.auth,this.email,this.password).then((t=>{const e=t.user;this.setUid(e.uid)})).catch((t=>{this.showErrorMsg=!0;t.code,t.message}))}},watch:{email(){this.showErrorMsg=!1},password(){this.showErrorMsg=!1}},mounted(){try{(0,p.hg)(this.auth,(t=>{t?(this.setUid(t.uid),this.visible=!0):(this.setUid(""),this.visible=!0)}))}catch(t){console.log(t),this.visible=!0}}};const P=(0,f.A)(U,[["render",O],["__scopeId","data-v-73e86fea"]]);var S=P;const T={class:"main-title"},X={class:"bank-account-list-container"},F=["onClick"],x={class:"bank-account-title","data-transaction":"true"},W={class:"bank-account-balance","data-transaction":"true"};function Q(t,e,n,a,i,s){const c=(0,o.g2)("BankAccountCreateEdit");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",T,[(0,o.eW)(" Bank Accounts "),(0,o.bF)(c,{docId:0,name:"",onReloadBankAccountsList:s.getBanksList},null,8,["onReloadBankAccountsList"])]),(0,o.Q3)("",!0),(0,o.Lk)("div",X,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys(i.bankAccountsList),(t=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bank-account-element",onClick:e=>s.goToTransactions(t),"data-transaction":"true"},[(0,o.Lk)("div",x,[(0,o.eW)((0,B.v_)(i.bankAccountsList[t].name)+" ",1),(0,o.bF)(c,{docId:t,name:i.bankAccountsList[t].name,onReloadBankAccountsList:s.getBanksList},null,8,["docId","name","onReloadBankAccountsList"])]),(0,o.Lk)("div",W,(0,B.v_)(i.bankAccountsList[t].balance)+"â‚¬",1)],8,F)))),128))])])}const H=t=>((0,o.Qi)("data-v-49dcba6a"),t=t(),(0,o.jt)(),t),K=["id"],J={class:"close-btn-container"},V={class:"input-container"},Y=H((()=>(0,o.Lk)("label",{for:"ba-name"},"Name:",-1)));function $(t,e,n,i,s,c){return(0,o.uX)(),(0,o.CE)("div",null,[(n.docId,0==n.docId?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"create-account-btn",onClick:e[1]||(e[1]=(...t)=>c.openModal&&c.openModal(...t))})):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"edit-btn",onClick:e[2]||(e[2]=(...t)=>c.openModal&&c.openModal(...t))}))),(0,o.Lk)("dialog",{class:"modal-container",id:n.docId+"-modal"},[(0,o.Lk)("div",J,[(0,o.Lk)("div",{class:"close-btn",onClick:e[3]||(e[3]=(...t)=>c.closeModal&&c.closeModal(...t))})]),(0,o.Lk)("div",V,[Y,(0,o.bo)((0,o.Lk)("input",{id:"ba-name",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>s.bankAccountName=t)},null,512),[[a.Jo,s.bankAccountName]])]),(0,o.Lk)("div",{class:(0,B.C4)(["create-btn",[c.allowCreation?"":"btn-disabled"]]),onClick:e[5]||(e[5]=t=>c.allowCreation?c.createEditBankAccount():"")},(0,B.v_)(0==n.docId?"Create":"Save"),3)],8,K)])}var G={name:"BankAccountsCreateEdit",props:["docId","name"],data(){return{bankAccountName:null}},computed:{...(0,m.L8)(["db","uid"]),allowCreation(){return null!=this.bankAccountName&&""!=this.bankAccountName&&""!=this.bankAccountName.trim()&&this.bankAccountName.trim()==this.bankAccountName}},methods:{openModal(){this.bankAccountName=this.name;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async createEditBankAccount(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,A.BN)((0,A.H9)(this.db,"bankAccounts",t),{name:this.bankAccountName,balance:0,creationDate:Date.now(),lastEditionDate:Date.now()}).then((t=>{this.$emit("reloadBankAccountsList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,A.H9)(this.db,"bankAccounts",this.docId);await(0,A.mZ)(t,{name:this.bankAccountName,lastEditionDate:Date.now()}).then((t=>{this.$emit("reloadBankAccountsList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}};const R=(0,f.A)(G,[["render",$],["__scopeId","data-v-49dcba6a"]]);var q=R,Z={name:"BankAccountsList",components:{BankAccountCreateEdit:q},data(){return{bankAccountsList:{}}},computed:{...(0,m.L8)(["db","categoriesList"])},methods:{...(0,m.PY)(["setBankAccountId","setBankAccountData","setCategoriesList"]),async getBanksList(){const t=(0,A.P)((0,A.rJ)(this.db,"bankAccounts")),e=await(0,A.GG)(t);e.forEach((t=>{this.bankAccountsList[t.id]=t.data()}))},goToTransactions(t){"true"==event.target.dataset.transaction&&(this.setBankAccountId(t),this.setBankAccountData(this.bankAccountsList[t]),this.$router.replace({name:"transactions"}))},async getCategoriesList(){const t=[],e=(0,A.P)((0,A.rJ)(this.db,"categories")),n=await(0,A.GG)(e);n.forEach((e=>{t[e.id]=e.data()})),this.setCategoriesList(t)}},mounted(){this.getBanksList(),0==Object.keys(this.categoriesList).length&&this.getCategoriesList()}};const z=(0,f.A)(Z,[["render",Q],["__scopeId","data-v-3bbcc125"]]);var tt=z,et={name:"HomeView",components:{Login:S,BankAccountsList:tt},computed:{...(0,m.L8)(["uid"])}};const nt=(0,f.A)(et,[["render",E]]);var at=nt;const ot=[{path:"/",name:"home",component:at},{path:"/categories",name:"categories",component:()=>n.e(594).then(n.bind(n,2118))},{path:"/transactions",name:"transactions",component:()=>n.e(594).then(n.bind(n,4111))}],it=(0,w.aE)({history:(0,w.Bt)(),routes:ot});var st=it,ct=(0,m.y$)({state:{app:"",auth:"",db:"",uid:"",bankAccountId:"",bankAccountData:{},categoriesList:{}},getters:{app(t){return t.app},auth(t){return t.auth},db(t){return t.db},uid(t){return t.uid},bankAccountId(t){return t.bankAccountId},bankAccountData(t){return t.bankAccountData},categoriesList(t){return t.categoriesList}},mutations:{setApp(t,e){t.app=e},setAuth(t,e){t.auth=e},setDb(t,e){t.db=e},setUid(t,e){t.uid=e},setBankAccountId(t,e){t.bankAccountId=e},setBankAccountData(t,e){t.bankAccountData=e},setCategoriesList(t,e){t.categoriesList=e}},actions:{},modules:{}});(0,a.Ef)(C).use(ct).use(st).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,i){if(!a){var s=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],i=t[d][2];for(var c=!0,r=0;r<a.length;r++)(!1&i||s>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(c=!1,i<s&&(s=i));if(c){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.42055ee1.js"}}(),function(){n.miniCssF=function(t){return"css/about.2bdf67ae.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="project:";n.l=function(a,o,i,s){if(t[a])t[a].push(o);else{var c,r;if(void 0!==i)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==e+i){c=l;break}}c||(r=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",e+i),c.src=a),t[a]=[o];var h=function(e,n){c.onerror=c.onload=null,clearTimeout(p);var o=t[a];if(delete t[a],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(t){return t(n)})),e)return e(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=h.bind(null,c.onerror),c.onload=h.bind(null,c.onload),r&&document.head.appendChild(c)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/pama/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,o,i){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc);var c=function(n){if(s.onerror=s.onload=null,"load"===n.type)o();else{var a=n&&n.type,c=n&&n.target&&n.target.href||e,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+c+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=a,r.request=c,s.parentNode&&s.parentNode.removeChild(s),i(r)}};return s.onerror=s.onload=c,s.href=e,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s),s},e=function(t,e){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===t||i===e))return o}var s=document.getElementsByTagName("style");for(a=0;a<s.length;a++){o=s[a],i=o.getAttribute("data-href");if(i===t||i===e)return o}},a=function(a){return new Promise((function(o,i){var s=n.miniCssF(a),c=n.p+s;if(e(s,c))return o();t(a,c,null,o,i)}))},o={524:0};n.f.miniCss=function(t,e){var n={594:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=a(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={524:0};n.f.j=function(e,a){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(n,a){o=t[e]=[n,a]}));a.push(o[2]=i);var s=n.p+n.u(e),c=new Error,r=function(a){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,o[1](c)}};n.l(s,r,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,s=a[0],c=a[1],r=a[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(r)var d=r(n)}for(e&&e(a);u<s.length;u++)i=s[u],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(d)},a=self["webpackChunkproject"]=self["webpackChunkproject"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(4724)}));a=n.O(a)})();
//# sourceMappingURL=app.6a1a9386.js.map