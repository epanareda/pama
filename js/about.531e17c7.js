"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[594],{5484:function(t,a,e){e.r(a),e.d(a,{default:function(){return B}});var n=e(6768);function o(t,a,e,o,i,s){const r=(0,n.g2)("categories-list");return(0,n.uX)(),(0,n.Wv)(r)}var i=e(782),s=e(4232);const r={class:"main-title"},c={class:"bank-account-list-container"},l={class:"bank-account-title"};function d(t,a,e,o,i,d){const u=(0,n.g2)("CategoriesCreateEdit");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",r,[(0,n.eW)(" Categories "),(0,n.bF)(u,{docId:0,name:"",onReloadCategoriesList:d.getCategoriesList},null,8,["onReloadCategoriesList"])]),(0,n.Q3)("",!0),(0,n.Lk)("div",c,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(i.categoriesList),(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"bank-account-element"},[(0,n.Lk)("div",l,[(0,n.eW)((0,s.v_)(i.categoriesList[t].name)+" ",1),(0,n.bF)(u,{docId:t,name:i.categoriesList[t].name,onReloadCategoriesList:d.getCategoriesList},null,8,["docId","name","onReloadCategoriesList"])])])))),128))])])}var u=e(5130);const m=t=>((0,n.Qi)("data-v-05423074"),t=t(),(0,n.jt)(),t),h=["id"],p={class:"close-btn-container"},g={class:"input-container"},L=m((()=>(0,n.Lk)("label",{for:"ba-name"},"Name:",-1))),b={class:"input-container"},k=m((()=>(0,n.Lk)("label",{for:"t-filter-type"},"Type:",-1))),v=m((()=>(0,n.Lk)("option",{value:"income"},"Incomes",-1))),y=m((()=>(0,n.Lk)("option",{value:"expense"},"Expenses",-1))),C=[v,y];function f(t,a,e,o,i,r){return(0,n.uX)(),(0,n.CE)("div",null,[(e.docId,0==e.docId?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"create-category-btn",onClick:a[1]||(a[1]=(...t)=>r.openModal&&r.openModal(...t))})):((0,n.uX)(),(0,n.CE)("div",{key:2,class:"edit-btn",onClick:a[2]||(a[2]=(...t)=>r.openModal&&r.openModal(...t))}))),(0,n.Lk)("dialog",{class:"modal-container",id:e.docId+"-modal"},[(0,n.Lk)("div",p,[(0,n.Lk)("div",{class:"close-btn",onClick:a[3]||(a[3]=(...t)=>r.closeModal&&r.closeModal(...t))})]),(0,n.Lk)("div",g,[L,(0,n.bo)((0,n.Lk)("input",{id:"ba-name",type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>i.categoryName=t),class:"form-control"},null,512),[[u.Jo,i.categoryName]])]),(0,n.Lk)("div",b,[k,(0,n.bo)((0,n.Lk)("select",{id:"t-filter-type",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>i.transactionType=t)},C,512),[[u.u1,i.transactionType]])]),(0,n.Lk)("div",{class:(0,s.C4)(["create-btn",[r.allowCreation?"":"btn-disabled"]]),onClick:a[6]||(a[6]=t=>r.allowCreation?r.createEditCategory:"")},"Create",2)],8,h)])}var D=e(9675),I={name:"CategoriesEdit",props:["docId","name"],data(){return{categoryName:null,transactionType:"expense"}},computed:{...(0,i.L8)(["db","uid"]),allowCreation(){return null!=this.categoryName&&""!=this.categoryName&&""!=this.categoryName.trim()&&this.categoryName.trim()==this.categoryName}},methods:{openModal(){this.categoryName=this.name;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async createEditCategory(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,D.BN)((0,D.H9)(this.db,"categories",t),{name:this.categoryName,transactionType:this.transactionType}).then((t=>{this.$emit("reloadCategoriesList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,D.H9)(this.db,"categories",this.docId);await(0,D.mZ)(t,{name:this.categoryName,transactionType:this.transactionType}).then((t=>{this.$emit("reloadCategoriesList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}},A=e(1241);const M=(0,A.A)(I,[["render",f],["__scopeId","data-v-05423074"]]);var T=M,E={name:"CategoriesList",components:{CategoriesCreateEdit:T},data(){return{categoriesList:{}}},computed:{...(0,i.L8)(["db"])},methods:{...(0,i.PY)(["setCategoriesList"]),async getCategoriesList(){const t=(0,D.P)((0,D.rJ)(this.db,"categories")),a=await(0,D.GG)(t);a.forEach((t=>{this.categoriesList[t.id]=t.data()})),this.setCategoriesList(this.categoriesList)}},mounted(){this.getCategoriesList()}};const N=(0,A.A)(E,[["render",d],["__scopeId","data-v-d0d325bc"]]);var w=N,F={name:"CategoriesView",components:{CategoriesList:w},computed:{...(0,i.L8)(["uid"])},mounted(){0==this.uid.length&&this.$router.replace({name:"home"})}};const O=(0,A.A)(F,[["render",o]]);var B=O},5667:function(t,a,e){e.r(a),e.d(a,{default:function(){return Ot}});var n=e(6768);function o(t,a,e,o,i,s){const r=(0,n.g2)("transaction-list");return(0,n.uX)(),(0,n.Wv)(r)}var i=e(782),s=e(4232);const r={class:"transaction-bank-account-title"},c={class:"transaction-bank-account-subtitle"},l={class:"create-transaction-container"},d={class:"bank-account-list-container"},u={class:"transaction-title"},m={class:"transaction-data-element"};function h(t,a,e,o,i,h){const p=(0,n.g2)("TransactionOptions"),g=(0,n.g2)("TransactionCreateEdit"),L=(0,n.g2)("TransactionFilter");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",r,[(0,n.eW)((0,s.v_)(t.bankAccountData.name)+" ",1),(0,n.Lk)("div",c,"("+(0,s.v_)(h.balanceOnceFiltered)+"€)",1)]),(0,n.Lk)("div",l,[(0,n.bF)(p,{display:"text",docId:"options",onFilterModal:h.openFilterModal},null,8,["onFilterModal"]),(0,n.bF)(g,{display:"create",docId:0,elData:"",onReloadTransactionsList:h.getTransactionsList},null,8,["onReloadTransactionsList"])]),(0,n.bF)(L,{id:"filterModal",onApplyFilter:h.applyFilter},null,8,["onApplyFilter"]),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(h.filteredTransactionList),(a=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"bank-account-element"},[(0,n.Lk)("div",u,[(0,n.eW)((0,s.v_)(h.filteredTransactionList[a].name)+" ",1),(0,n.bF)(g,{display:"edit",docId:a,elData:h.filteredTransactionList[a],onReloadTransactionsList:h.getTransactionsList},null,8,["docId","elData","onReloadTransactionsList"])]),(0,n.Lk)("div",m,[(0,n.Lk)("div",{class:(0,s.C4)([Number(h.filteredTransactionList[a].amount)<0?"red-text":"green-text"])},(0,s.v_)(h.filteredTransactionList[a].amount)+"€ ",3),(0,n.eW)(" | "),(0,n.Lk)("div",null,(0,s.v_)(t.categoriesList[h.filteredTransactionList[a].categoryId].name),1),(0,n.eW)(" | "),(0,n.Lk)("div",null,(0,s.v_)(h.filteredTransactionList[a].date),1)])])))),128))])])}var p=e(5130);const g=t=>((0,n.Qi)("data-v-69c66040"),t=t(),(0,n.jt)(),t),L=g((()=>(0,n.Lk)("div",{class:"create-transaction-btn"},null,-1))),b=["id"],k={class:"close-btn-container"},v={class:"input-container"},y=g((()=>(0,n.Lk)("label",{for:"transaction-name"},"Name:",-1))),C={class:"input-container"},f=g((()=>(0,n.Lk)("label",{for:"transaction-amount"},"Amount:",-1))),D={class:"amount-input-container"},I={class:"input-container"},A=g((()=>(0,n.Lk)("label",{for:"transaction-category"},"Category:",-1))),M={key:0,value:0},T=["value"],E={class:"input-container"},N=g((()=>(0,n.Lk)("label",{for:"transaction-date"},"Date:",-1)));function w(t,a,e,o,i,r){return(0,n.uX)(),(0,n.CE)("div",null,["create"==e.display?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"create-transaction-container",onClick:a[0]||(a[0]=(...t)=>r.openModal&&r.openModal(...t))},[L,(0,n.eW)(" Add Transaction ")])):"edit"==e.display?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"edit-btn",onClick:a[1]||(a[1]=(...t)=>r.openModal&&r.openModal(...t))})):(0,n.Q3)("",!0),(0,n.Lk)("dialog",{class:"modal-container",id:e.docId+"-modal"},[(0,n.Lk)("div",k,[(0,n.Lk)("div",{class:"close-btn",onClick:a[2]||(a[2]=(...t)=>r.closeModal&&r.closeModal(...t))})]),(0,n.Lk)("div",v,[y,(0,n.bo)((0,n.Lk)("input",{id:"transaction-name",type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>i.transactionName=t),class:"form-control"},null,512),[[p.Jo,i.transactionName]])]),(0,n.Lk)("div",C,[f,(0,n.Lk)("div",D,[(0,n.Lk)("div",{class:(0,s.C4)(["amount-btn-container",[i.negativeAmount?"negative-amount-btn-active":"positive-amount-btn-active"]]),onClick:a[4]||(a[4]=(...t)=>r.changeAmountSign&&r.changeAmountSign(...t))},[(0,n.Lk)("div",{class:(0,s.C4)(["amount-btn negative-amount-btn",[(i.negativeAmount,"")]])},null,2),(0,n.Lk)("div",{class:(0,s.C4)(["amount-btn positive-amount-btn",[i.negativeAmount?"not-visible":""]])},null,2)],2),(0,n.bo)((0,n.Lk)("input",{id:"transaction-amount",type:"number","onUpdate:modelValue":a[5]||(a[5]=t=>i.transactionAmount=t),class:(0,s.C4)(["form-control",[i.negativeAmount?"text-red":"text-green"]]),style:{width:"calc(100% - 40px) !important"}},null,2),[[p.Jo,i.transactionAmount]])])]),(0,n.Lk)("div",I,[A,(0,n.bo)((0,n.Lk)("select",{id:"transaction-category","onUpdate:modelValue":a[6]||(a[6]=t=>i.transactionCategory=t),class:"form-control text-center"},[0==i.transactionCategory?((0,n.uX)(),(0,n.CE)("option",M,"--- Select an option ---")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(r.filteredCategoriesList),(t=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,s.v_)(r.filteredCategoriesList[t].name),9,T)))),128))],512),[[p.u1,i.transactionCategory]])]),(0,n.Lk)("div",E,[N,(0,n.bo)((0,n.Lk)("input",{id:"transaction-date",type:"date","onUpdate:modelValue":a[7]||(a[7]=t=>i.transactionDate=t),class:"form-control"},null,512),[[p.Jo,i.transactionDate]])]),(0,n.Lk)("div",{class:(0,s.C4)(["create-btn",[r.allowCreation?"":"btn-disabled"]]),onClick:a[8]||(a[8]=t=>r.allowCreation?r.createEditTransaction:"")},"Create",2)],8,b)])}var F=e(9675),O={name:"TransactionsEdit",props:["display","docId","elData"],data(){return{transactionName:null,transactionAmount:null,transactionCategory:null,transactionDate:null,negativeAmount:!0}},computed:{...(0,i.L8)(["db","uid","bankAccountId","bankAccountData","categoriesList"]),filteredCategoriesList(){const t={},a=this.negativeAmount?"expense":"income";return Object.keys(this.categoriesList).forEach((e=>{this.categoriesList[e].transactionType==a&&(t[e]=this.categoriesList[e])})),t},allowCreation(){return null!=this.transactionName&&""!=this.transactionName&&""!=this.transactionName.trim()&&this.transactionName.trim()==this.transactionName&&null!=this.transactionAmount&&"string"!=typeof this.transactionAmount&&null!=this.transactionCategory&&0!=this.transactionCategory&&""!=this.transactionCategory&&null!=this.transactionDate&&""!=this.transactionDate&&"string"==typeof this.transactionDate}},methods:{...(0,i.PY)(["setBankAccountData"]),openModal(){this.transactionName=this.elData.name,this.transactionAmount=this.elData.amount,this.transactionCategory=this.elData.categoryId?this.elData.categoryId:0,this.transactionDate=this.elData.date;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},changeAmountSign(){this.negativeAmount=!this.negativeAmount,this.transactionCategory=0},async updateBankAccountBalance(){const t=(0,F.H9)(this.db,"bankAccounts",this.bankAccountId),a=await(0,F.x7)(t);if(a.exists()){const e=Number(a.data().balance)+Number(this.transactionAmount)*(this.negativeAmount?-1:1);(0,F.mZ)(t,{balance:e}).then((t=>{const a=JSON.parse(JSON.stringify(this.bankAccountData));a.balance=e,this.setBankAccountData(a)}))}else console.log("Error on getting bankAccount current balance.")},async createEditTransaction(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,F.BN)((0,F.H9)(this.db,"transactions",t),{name:this.transactionName,amount:Number(this.transactionAmount)*(this.negativeAmount?-1:1),categoryId:this.transactionCategory,bankAccountId:this.bankAccountId,date:this.transactionDate}).then((t=>{this.updateBankAccountBalance(),this.$emit("reloadTransactionsList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,F.H9)(this.db,"transactions",this.docId);await(0,F.mZ)(t,{name:this.transactionName,amount:Number(this.transactionAmount)*(this.negativeAmount?-1:1),categoryId:this.transactionCategory,date:this.transactionDate}).then((t=>{this.updateBankAccountBalance(),this.$emit("reloadTransactionsList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}},B=e(1241);const X=(0,B.A)(O,[["render",w],["__scopeId","data-v-69c66040"]]);var _=X;const x=t=>((0,n.Qi)("data-v-2480aa30"),t=t(),(0,n.jt)(),t),P=x((()=>(0,n.Lk)("div",{class:"options-btn"},null,-1))),S=["id"],V={class:"close-btn-container"},j=x((()=>(0,n.Lk)("div",{class:"modal-subtitle"},"Options:",-1))),W={class:"btns-container"},U=x((()=>(0,n.Lk)("div",{class:"filter-btn"},null,-1))),J=x((()=>(0,n.Lk)("div",{class:"chart-btn"},null,-1)));function $(t,a,e,o,i,s){return(0,n.uX)(),(0,n.CE)("div",null,["text"==e.display?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"options-btn-container",onClick:a[0]||(a[0]=(...t)=>s.openModal&&s.openModal(...t))},[P,(0,n.eW)(" Options ")])):"icon"==e.display?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"options-btn",onClick:a[1]||(a[1]=(...t)=>s.openModal&&s.openModal(...t))})):(0,n.Q3)("",!0),(0,n.Lk)("dialog",{class:"modal-container",id:e.docId+"-modal"},[(0,n.Lk)("div",V,[(0,n.Lk)("div",{class:"close-btn",onClick:a[2]||(a[2]=(...t)=>s.closeModal&&s.closeModal(...t))})]),j,(0,n.Lk)("div",W,[(0,n.Lk)("div",{class:"option-btn-container",onClick:a[3]||(a[3]=(...t)=>s.openFilterModal&&s.openFilterModal(...t))},[U,(0,n.eW)("Filter ")]),(0,n.Lk)("div",{class:"option-btn-container",onClick:a[4]||(a[4]=(...t)=>s.openChartModal&&s.openChartModal(...t))},[J,(0,n.eW)("Charts ")])])],8,S)])}var Q={name:"TransactionOptions",props:["display","docId"],data(){return{}},methods:{openModal(){const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},openFilterModal(){this.closeModal(),this.$emit("filterModal")},openChartModal(){this.closeModal(),this.$emit("chartModal")}}};const R=(0,B.A)(Q,[["render",$],["__scopeId","data-v-2480aa30"]]);var Y=R;const H=t=>((0,n.Qi)("data-v-536d95b1"),t=t(),(0,n.jt)(),t),G=["id"],K={class:"close-btn-container"},Z={class:"filter-elements-container"},q={class:"filter-item"},z={class:"label-with-btn-container"},tt=H((()=>(0,n.Lk)("label",{for:"t-filter-order"},"Order by:",-1))),at={class:"btn-in-label-container"},et=H((()=>(0,n.Lk)("div",{class:"btn-in-label-text"},"Desc",-1))),nt=H((()=>(0,n.Lk)("div",null,null,-1))),ot=[nt],it=H((()=>(0,n.Lk)("div",{class:"btn-in-label-text"},"Asc",-1))),st=H((()=>(0,n.Lk)("option",{value:"date"},"Date",-1))),rt=H((()=>(0,n.Lk)("option",{value:"amount"},"Amount",-1))),ct=[st,rt],lt={class:"filter-item"},dt=H((()=>(0,n.Lk)("label",{for:"t-filter-type"},"Type:",-1))),ut=H((()=>(0,n.Lk)("option",{value:"both"},"Both",-1))),mt=H((()=>(0,n.Lk)("option",{value:"income"},"Incomes",-1))),ht=H((()=>(0,n.Lk)("option",{value:"expense"},"Expenses",-1))),pt=[ut,mt,ht],gt={class:"filter-item"},Lt=H((()=>(0,n.Lk)("label",{for:"t-filter-category"},"Category:",-1))),bt=H((()=>(0,n.Lk)("option",{value:"0"},"All",-1))),kt=["value"],vt={class:"filter-item"},yt=H((()=>(0,n.Lk)("label",{for:"t-start-date"},"From:",-1))),Ct={class:"filter-item"},ft=H((()=>(0,n.Lk)("label",{for:"t-end-date"},"To:",-1)));function Dt(t,a,e,o,i,r){return(0,n.uX)(),(0,n.CE)("dialog",{class:"modal-container",id:e.id},[(0,n.Lk)("div",K,[(0,n.Lk)("div",{class:"close-btn",onClick:a[0]||(a[0]=(...t)=>r.closeModal&&r.closeModal(...t))})]),(0,n.Lk)("div",Z,[(0,n.Lk)("div",q,[(0,n.Lk)("div",z,[tt,(0,n.Lk)("div",at,[et,(0,n.Lk)("div",{class:(0,s.C4)(["btn-in-label-moving-btn",[i.transictionOrderDesc?"btn-in-label-moving-btn-active":""]]),onClick:a[1]||(a[1]=t=>i.transictionOrderDesc=!i.transictionOrderDesc)},ot,2),it])]),(0,n.bo)((0,n.Lk)("select",{name:"",id:"t-filter-order",class:"form-control","onUpdate:modelValue":a[2]||(a[2]=t=>i.transactionOrderBy=t)},ct,512),[[p.u1,i.transactionOrderBy]])]),(0,n.Lk)("div",lt,[dt,(0,n.bo)((0,n.Lk)("select",{id:"t-filter-type",class:"form-control","onUpdate:modelValue":a[3]||(a[3]=t=>i.transactionType=t)},pt,512),[[p.u1,i.transactionType]])]),(0,n.Lk)("div",gt,[Lt,(0,n.bo)((0,n.Lk)("select",{name:"",id:"t-filter-category",class:"form-control","onUpdate:modelValue":a[4]||(a[4]=t=>i.transactionCategory=t)},[bt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Object.keys(r.filteredCategoriesList),(t=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:t},(0,s.v_)(r.filteredCategoriesList[t].name),9,kt)))),128))],512),[[p.u1,i.transactionCategory]])]),(0,n.Lk)("div",vt,[yt,(0,n.bo)((0,n.Lk)("input",{type:"date",name:"",id:"t-start-date",class:"form-control","onUpdate:modelValue":a[5]||(a[5]=t=>i.transactionStartDate=t)},null,512),[[p.Jo,i.transactionStartDate]])]),(0,n.Lk)("div",Ct,[ft,(0,n.bo)((0,n.Lk)("input",{type:"date",name:"",id:"t-end-date",class:"form-control","onUpdate:modelValue":a[6]||(a[6]=t=>i.transactionEndDate=t)},null,512),[[p.Jo,i.transactionEndDate]])])]),(0,n.Lk)("div",{class:"create-btn",onClick:a[7]||(a[7]=(...t)=>r.applyFilter&&r.applyFilter(...t))},"Apply")],8,G)}var It={name:"TransactionFilters",props:["id"],data(){return{transactionOrderBy:null,transictionOrderDesc:null,transactionType:null,transactionCategory:null,transactionStartDate:null,transactionEndDate:null}},computed:{...(0,i.L8)(["categoriesList"]),filteredCategoriesList(){if("both"==this.transactionType)return this.categoriesList;const t={};return Object.keys(this.categoriesList).forEach((a=>{this.categoriesList[a].transactionType==this.transactionType&&(t[a]=this.categoriesList[a])})),t}},methods:{setDefaultValues(){this.transactionOrderBy="date",this.transictionOrderDesc=!1,this.transactionType="both",this.transactionCategory=0;const t=new Date(Date.now()),a=t.getFullYear(),e=t.getMonth(),n=new Date(a,e,1),o=(n.getMonth()+1).toString(),i=n.getDate().toString(),s=new Date(a,e+1,1),r=(s.getMonth()+1).toString(),c=s.getDate().toString();this.transactionStartDate=n.getFullYear()+"-"+(1==o.length?"0":"")+o+"-"+(1==i.length?"0":"")+i,this.transactionEndDate=s.getFullYear()+"-"+(1==r.length?"0":"")+r+"-"+(1==c.length?"0":"")+c},closeModal(){const t=document.getElementById(this.id);t.close(),this.setDefaultValues()},applyFilter(){const t={orderBy:this.transactionOrderBy,desc:this.transictionOrderDesc,transactionType:this.transactionType,categoryId:this.transactionCategory,startDate:this.transactionStartDate,endDate:this.transactionEndDate};this.$emit("applyFilter",t),this.closeModal()}},mounted(){this.setDefaultValues()}};const At=(0,B.A)(It,[["render",Dt],["__scopeId","data-v-536d95b1"]]);var Mt=At,Tt={name:"TransactionList",components:{TransactionCreateEdit:_,TransactionOptions:Y,TransactionFilter:Mt},data(){return{transactionsList:{},filterParams:null}},computed:{...(0,i.L8)(["db","bankAccountId","bankAccountData","categoriesList"]),filteredTransactionList(){this.transactionsList;let t=Object.values(this.transactionsList);if(null==this.filterParams){const a=new Date(Date.now()),e=a.getFullYear(),n=a.getMonth(),o=new Date(e,n,1),i=new Date(e,n+1,1);return t=t.filter((t=>Number(new Date(t.date))>=Number(o)&&new Number(new Date(t.date))<Number(i))),t.sort(((t,a)=>-1*(Number(new Date(t.date))-Number(new Date(a.date))))),t}return t=t.filter((t=>(0==this.filterParams.categoryId&&("both"==this.filterParams.transactionType||"income"==this.filterParams.transactionType&&t.amount>0||"expense"==this.filterParams.transactionType&&t.amount<0)||t.categoryId==this.filterParams.categoryId)&&t.date>=this.filterParams.startDate&&t.date<this.filterParams.endDate)),"date"==this.filterParams.orderBy?t.sort(((t,a)=>(Number(new Date(t.date))-Number(new Date(a.date)))*(this.filterParams.desc?1:-1))):"amount"==this.filterParams.orderBy&&t.sort(((t,a)=>(t.amount-a.amount)*(this.filterParams.desc?1:-1))),t},balanceOnceFiltered(){return Object.values(this.filteredTransactionList).map((t=>t.amount)).reduce(((t,a)=>t+a),0)}},methods:{async getTransactionsList(){const t=(0,F.P)((0,F.rJ)(this.db,"transactions"),(0,F._M)("bankAccountId","==",this.bankAccountId)),a=await(0,F.GG)(t);a.forEach((t=>{this.transactionsList[t.id]=t.data()}))},openFilterModal(){const t=document.querySelector("#filterModal");t.showModal()},applyFilter(t){this.filterParams=t}},mounted(){this.getTransactionsList()}};const Et=(0,B.A)(Tt,[["render",h],["__scopeId","data-v-69098903"]]);var Nt=Et,wt={name:"TransactionsView",components:{TransactionList:Nt},computed:{...(0,i.L8)(["uid"])},mounted(){0==this.uid.length&&this.$router.replace({name:"home"})}};const Ft=(0,B.A)(wt,[["render",o]]);var Ot=Ft}}]);
//# sourceMappingURL=about.531e17c7.js.map