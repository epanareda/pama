(function(){"use strict";var t={1248:function(t,n,e){var a=e(5130),o=e(6768);function i(t,n,e,a,i,c){const s=(0,o.g2)("Header"),r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(s),(0,o.bF)(r)],64)}const c=t=>((0,o.Qi)("data-v-1036d29c"),t=t(),(0,o.jt)(),t),s={class:"app-header"},r=c((()=>(0,o.Lk)("div",{class:"graph-icon-container"},[(0,o.Lk)("div",{class:"graph-icon"})],-1))),u={key:0,class:"nav-bar-container"},d=c((()=>(0,o.Lk)("div",{class:"logout-icon"},null,-1))),l=[d];function h(t,n,e,a,i,c){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",s,[r,0!=t.uid.length?((0,o.uX)(),(0,o.CE)("nav",u,[(0,o.bF)(d,{class:"link-element",to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)("Accounts")])),_:1}),(0,o.eW)(" | "),(0,o.bF)(d,{class:"link-element",to:"/activities"},{default:(0,o.k6)((()=>[(0,o.eW)("Activities")])),_:1})])):(0,o.Q3)("",!0),0!=t.uid.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"logout-icon-container",onClick:n[0]||(n[0]=(...t)=>c.logoutUser&&c.logoutUser(...t))},l)):(0,o.Q3)("",!0)])}var p=e(5002),m=e(782),f={name:"Header",data(){return{}},computed:{...(0,m.L8)(["auth","uid"])},methods:{...(0,m.PY)(["setUid"]),logoutUser(){(0,p.CI)(this.auth).then((t=>{this.setUid(""),this.$router.replace({name:"home"})}))}}},b=e(1241);const v=(0,b.A)(f,[["render",h],["__scopeId","data-v-1036d29c"]]);var k=v,g=e(6400),A=e(9675),L={components:{Header:k},data(){return{}},computed:{...(0,m.L8)(["uid"])},methods:{...(0,m.PY)(["setApp","setAuth","setDb","setUid"])},mounted(){const t={apiKey:"AIzaSyAo7NfVUZ7KQBnaK47rkT2B6KAYqvEaMps",authDomain:"pama-8b336.firebaseapp.com",projectId:"pama-8b336",storageBucket:"pama-8b336.appspot.com",messagingSenderId:"942670689497",appId:"1:942670689497:web:33f90709fe005e0f7d7ac8"},n=(0,g.Wp)(t);this.setApp(n);const e=(0,p.xI)(n);this.setAuth(e);const a=(0,A.aU)(n);this.setDb(a)}};const y=(0,b.A)(L,[["render",i]]);var w=y,E=e(1387);function C(t,n,e,a,i,c){const s=(0,o.g2)("login"),r=(0,o.g2)("bank-accounts-list");return 0==t.uid.length?((0,o.uX)(),(0,o.Wv)(s,{key:0})):((0,o.uX)(),(0,o.Wv)(r,{key:1}))}var B=e(4232);const I=t=>((0,o.Qi)("data-v-3d675139"),t=t(),(0,o.jt)(),t),j={key:0,class:"login-container"},D={class:"login-input-container"},M=I((()=>(0,o.Lk)("label",{for:"email"},"Email:",-1))),_={class:"login-input-container"},N=I((()=>(0,o.Lk)("label",{for:"password"},"Password:",-1)));function O(t,n,e,i,c,s){return c.visible?((0,o.uX)(),(0,o.CE)("div",j,[(0,o.Lk)("div",D,[M,(0,o.bo)((0,o.Lk)("input",{id:"email",type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>c.email=t)},null,512),[[a.Jo,c.email]])]),(0,o.Lk)("div",_,[N,(0,o.bo)((0,o.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":n[1]||(n[1]=t=>c.password=t)},null,512),[[a.Jo,c.password]])]),(0,o.Lk)("div",{class:(0,B.C4)(["error-msg",[c.showErrorMsg?"":"not-visible"]])}," Wrong user or password ",2),(0,o.Lk)("div",{class:"login-btn",onClick:n[2]||(n[2]=(...t)=>s.login&&s.login(...t))}," Login ")])):(0,o.Q3)("",!0)}var U={name:"Login",data(){return{visible:!1,email:"",password:"",showErrorMsg:!1}},computed:{...(0,m.L8)(["app","auth","uid"])},methods:{...(0,m.PY)(["setUid"]),login(){(0,p.x9)(this.auth,this.email,this.password).then((t=>{const n=t.user;this.setUid(n.uid)})).catch((t=>{this.showErrorMsg=!0;t.code,t.message}))}},watch:{email(){this.showErrorMsg=!1},password(){this.showErrorMsg=!1}},mounted(){try{(0,p.hg)(this.auth,(t=>{t?(this.setUid(t.uid),this.visible=!0):(this.setUid(""),this.visible=!0)}))}catch(t){console.log(t),this.visible=!0}}};const P=(0,b.A)(U,[["render",O],["__scopeId","data-v-3d675139"]]);var T=P;const S={class:"create-account-container"},X={class:"bank-account-list-container"},F=["onClick"],x={class:"bank-account-title","data-transaction":"true"},W={class:"bank-account-balance","data-transaction":"true"};function H(t,n,e,a,i,c){const s=(0,o.g2)("BankAccountCreateEdit");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",S,[(0,o.bF)(s,{docId:0,name:"",onReloadBankAccountsList:c.getBanksList},null,8,["onReloadBankAccountsList"])]),(0,o.Lk)("div",X,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys(i.bankAccountsList),(t=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bank-account-element",onClick:n=>c.goToTransactions(t),"data-transaction":"true"},[(0,o.Lk)("div",x,[(0,o.eW)((0,B.v_)(i.bankAccountsList[t].name)+" ",1),(0,o.bF)(s,{docId:t,name:i.bankAccountsList[t].name,onReloadBankAccountsList:c.getBanksList},null,8,["docId","name","onReloadBankAccountsList"])]),(0,o.Lk)("div",W,(0,B.v_)(i.bankAccountsList[t].balance)+"â‚¬",1)],8,F)))),128))])])}const K=t=>((0,o.Qi)("data-v-18b08bbc"),t=t(),(0,o.jt)(),t),Q=K((()=>(0,o.Lk)("div",{class:"create-account-btn"},null,-1))),J=["id"],V={class:"close-btn-container"},Y={class:"input-container"},$=K((()=>(0,o.Lk)("label",{for:"ba-name"},"Name:",-1)));function G(t,n,e,i,c,s){return(0,o.uX)(),(0,o.CE)("div",null,[0==e.docId?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"create-account-container",onClick:n[0]||(n[0]=(...t)=>s.openModal&&s.openModal(...t))},[Q,(0,o.eW)(" Add new Bank Account ")])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"edit-btn",onClick:n[1]||(n[1]=(...t)=>s.openModal&&s.openModal(...t))})),(0,o.Lk)("dialog",{class:"modal-container",id:e.docId+"-modal"},[(0,o.Lk)("div",V,[(0,o.Lk)("div",{class:"close-btn",onClick:n[2]||(n[2]=(...t)=>s.closeModal&&s.closeModal(...t))})]),(0,o.Lk)("div",Y,[$,(0,o.bo)((0,o.Lk)("input",{id:"ba-name",type:"text","onUpdate:modelValue":n[3]||(n[3]=t=>c.bankAccountName=t)},null,512),[[a.Jo,c.bankAccountName]])]),(0,o.Lk)("div",{class:"create-btn",onClick:n[4]||(n[4]=(...t)=>s.createEditBankAccount&&s.createEditBankAccount(...t))},"Create")],8,J)])}var R={name:"BankAccountsCreateEdit",props:["docId","name"],data(){return{bankAccountName:null}},computed:{...(0,m.L8)(["db","uid"])},methods:{openModal(){this.bankAccountName=this.name;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async createEditBankAccount(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,A.BN)((0,A.H9)(this.db,"bankAccounts",t),{name:this.bankAccountName,balance:0,creationDate:Date.now(),lastEditionDate:Date.now()}).then((t=>{this.$emit("reloadBankAccountsList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,A.H9)(this.db,"bankAccounts",this.docId);await(0,A.mZ)(t,{name:this.bankAccountName,lastEditionDate:Date.now()}).then((t=>{this.$emit("reloadBankAccountsList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}};const q=(0,b.A)(R,[["render",G],["__scopeId","data-v-18b08bbc"]]);var Z=q,z={name:"BankAccountsList",components:{BankAccountCreateEdit:Z},data(){return{bankAccountsList:{}}},computed:{...(0,m.L8)(["db","activitiesList"])},methods:{...(0,m.PY)(["setBankAccountId","setBankAccountData","setActivitiesList"]),async getBanksList(){const t=(0,A.P)((0,A.rJ)(this.db,"bankAccounts")),n=await(0,A.GG)(t);n.forEach((t=>{this.bankAccountsList[t.id]=t.data()}))},goToTransactions(t){"true"==event.target.dataset.transaction&&(this.setBankAccountId(t),this.setBankAccountData(this.bankAccountsList[t]),this.$router.replace({name:"transactions"}))},async getActivitiesList(){const t=[],n=(0,A.P)((0,A.rJ)(this.db,"activities")),e=await(0,A.GG)(n);e.forEach((n=>{t[n.id]=n.data()})),this.setActivitiesList(t)}},mounted(){this.getBanksList(),0==Object.keys(this.activitiesList).length&&this.getActivitiesList()}};const tt=(0,b.A)(z,[["render",H],["__scopeId","data-v-cdca423c"]]);var nt=tt,et={name:"HomeView",components:{Login:T,BankAccountsList:nt},computed:{...(0,m.L8)(["uid"])}};const at=(0,b.A)(et,[["render",C]]);var ot=at;const it=[{path:"/",name:"home",component:ot},{path:"/activities",name:"activities",component:()=>e.e(594).then(e.bind(e,2533))},{path:"/transactions",name:"transactions",component:()=>e.e(594).then(e.bind(e,8822))}],ct=(0,E.aE)({history:(0,E.Bt)(),routes:it});var st=ct,rt=(0,m.y$)({state:{app:"",auth:"",db:"",uid:"",bankAccountId:"",bankAccountData:{},activitiesList:{}},getters:{app(t){return t.app},auth(t){return t.auth},db(t){return t.db},uid(t){return t.uid},bankAccountId(t){return t.bankAccountId},bankAccountData(t){return t.bankAccountData},activitiesList(t){return t.activitiesList}},mutations:{setApp(t,n){t.app=n},setAuth(t,n){t.auth=n},setDb(t,n){t.db=n},setUid(t,n){t.uid=n},setBankAccountId(t,n){t.bankAccountId=n},setBankAccountData(t,n){t.bankAccountData=n},setActivitiesList(t,n){t.activitiesList=n}},actions:{},modules:{}});(0,a.Ef)(w).use(rt).use(st).mount("#app")}},n={};function e(a){var o=n[a];if(void 0!==o)return o.exports;var i=n[a]={exports:{}};return t[a].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(n,a,o,i){if(!a){var c=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],i=t[d][2];for(var s=!0,r=0;r<a.length;r++)(!1&i||c>=i)&&Object.keys(e.O).every((function(t){return e.O[t](a[r])}))?a.splice(r--,1):(s=!1,i<c&&(c=i));if(s){t.splice(d--,1);var u=o();void 0!==u&&(n=u)}}return n}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,o,i]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(n,a){return e.f[a](t,n),n}),[]))}}(),function(){e.u=function(t){return"js/about.5ada9215.js"}}(),function(){e.miniCssF=function(t){return"css/about.2514a7c2.css"}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){var t={},n="project:";e.l=function(a,o,i,c){if(t[a])t[a].push(o);else{var s,r;if(void 0!==i)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==n+i){s=l;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,e.nc&&s.setAttribute("nonce",e.nc),s.setAttribute("data-webpack",n+i),s.src=a),t[a]=[o];var h=function(n,e){s.onerror=s.onload=null,clearTimeout(p);var o=t[a];if(delete t[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(e)})),n)return n(e)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/pama/"}(),function(){if("undefined"!==typeof document){var t=function(t,n,a,o,i){var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",e.nc&&(c.nonce=e.nc);var s=function(e){if(c.onerror=c.onload=null,"load"===e.type)o();else{var a=e&&e.type,s=e&&e.target&&e.target.href||n,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+s+")");r.name="ChunkLoadError",r.code="CSS_CHUNK_LOAD_FAILED",r.type=a,r.request=s,c.parentNode&&c.parentNode.removeChild(c),i(r)}};return c.onerror=c.onload=s,c.href=n,a?a.parentNode.insertBefore(c,a.nextSibling):document.head.appendChild(c),c},n=function(t,n){for(var e=document.getElementsByTagName("link"),a=0;a<e.length;a++){var o=e[a],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===t||i===n))return o}var c=document.getElementsByTagName("style");for(a=0;a<c.length;a++){o=c[a],i=o.getAttribute("data-href");if(i===t||i===n)return o}},a=function(a){return new Promise((function(o,i){var c=e.miniCssF(a),s=e.p+c;if(n(c,s))return o();t(a,s,null,o,i)}))},o={524:0};e.f.miniCss=function(t,n){var e={594:1};o[t]?n.push(o[t]):0!==o[t]&&e[t]&&n.push(o[t]=a(t).then((function(){o[t]=0}),(function(n){throw delete o[t],n})))}}}(),function(){var t={524:0};e.f.j=function(n,a){var o=e.o(t,n)?t[n]:void 0;if(0!==o)if(o)a.push(o[2]);else{var i=new Promise((function(e,a){o=t[n]=[e,a]}));a.push(o[2]=i);var c=e.p+e.u(n),s=new Error,r=function(a){if(e.o(t,n)&&(o=t[n],0!==o&&(t[n]=void 0),o)){var i=a&&("load"===a.type?"missing":a.type),c=a&&a.target&&a.target.src;s.message="Loading chunk "+n+" failed.\n("+i+": "+c+")",s.name="ChunkLoadError",s.type=i,s.request=c,o[1](s)}};e.l(c,r,"chunk-"+n,n)}},e.O.j=function(n){return 0===t[n]};var n=function(n,a){var o,i,c=a[0],s=a[1],r=a[2],u=0;if(c.some((function(n){return 0!==t[n]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(r)var d=r(e)}for(n&&n(a);u<c.length;u++)i=c[u],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(d)},a=self["webpackChunkproject"]=self["webpackChunkproject"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=e.O(void 0,[504],(function(){return e(1248)}));a=e.O(a)})();
//# sourceMappingURL=app.46d69a4e.js.map