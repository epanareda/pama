"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[594],{2533:function(t,a,n){n.r(a),n.d(a,{default:function(){return T}});var i=n(6768);function e(t,a,n,e,s,c){const o=(0,i.g2)("activities-list");return(0,i.uX)(),(0,i.Wv)(o)}var s=n(782),c=n(4232);const o={class:"create-account-container"},d={class:"bank-account-list-container"},l={class:"bank-account-title"};function r(t,a,n,e,s,r){const u=(0,i.g2)("ActivitiesCreateEdit");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",o,[(0,i.bF)(u,{docId:0,name:"",onReloadActivitiesList:r.getActivitiesList},null,8,["onReloadActivitiesList"])]),(0,i.Lk)("div",d,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(s.activitiesList),(t=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"bank-account-element"},[(0,i.Lk)("div",l,[(0,i.eW)((0,c.v_)(s.activitiesList[t].name)+" ",1),(0,i.bF)(u,{docId:t,name:s.activitiesList[t].name,onReloadActivitiesList:r.getActivitiesList},null,8,["docId","name","onReloadActivitiesList"])])])))),128))])])}var u=n(5130);const v=t=>((0,i.Qi)("data-v-564924b4"),t=t(),(0,i.jt)(),t),m=v((()=>(0,i.Lk)("div",{class:"create-account-btn"},null,-1))),L=["id"],h={class:"close-btn-container"},k={class:"input-container"},b=v((()=>(0,i.Lk)("label",{for:"ba-name"},"Name:",-1)));function A(t,a,n,e,s,c){return(0,i.uX)(),(0,i.CE)("div",null,[0==n.docId?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"create-account-container",onClick:a[0]||(a[0]=(...t)=>c.openModal&&c.openModal(...t))},[m,(0,i.eW)(" Add new Activity ")])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"edit-btn",onClick:a[1]||(a[1]=(...t)=>c.openModal&&c.openModal(...t))})),(0,i.Lk)("dialog",{class:"modal-container",id:n.docId+"-modal"},[(0,i.Lk)("div",h,[(0,i.Lk)("div",{class:"close-btn",onClick:a[2]||(a[2]=(...t)=>c.closeModal&&c.closeModal(...t))})]),(0,i.Lk)("div",k,[b,(0,i.bo)((0,i.Lk)("input",{id:"ba-name",type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>s.activityName=t)},null,512),[[u.Jo,s.activityName]])]),(0,i.Lk)("div",{class:"create-btn",onClick:a[4]||(a[4]=(...t)=>c.createEditActivity&&c.createEditActivity(...t))},"Create")],8,L)])}var p=n(9675),y={name:"ActivitiesEdit",props:["docId","name"],data(){return{activityName:null}},computed:{...(0,s.L8)(["db","uid"])},methods:{openModal(){this.activityName=this.name;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async createEditActivity(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,p.BN)((0,p.H9)(this.db,"activities",t),{name:this.activityName}).then((t=>{this.$emit("reloadActivitiesList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,p.H9)(this.db,"activities",this.docId);await(0,p.mZ)(t,{name:this.activityName}).then((t=>{this.$emit("reloadActivitiesList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}},I=n(1241);const E=(0,I.A)(y,[["render",A],["__scopeId","data-v-564924b4"]]);var C=E,g={name:"ActivitiesList",components:{ActivitiesCreateEdit:C},data(){return{activitiesList:{}}},computed:{...(0,s.L8)(["db"])},methods:{...(0,s.PY)(["setActivitiesList"]),async getActivitiesList(){const t=(0,p.P)((0,p.rJ)(this.db,"activities")),a=await(0,p.GG)(t);a.forEach((t=>{this.activitiesList[t.id]=t.data()})),this.setActivitiesList(this.activitiesList)}},mounted(){this.getActivitiesList()}};const f=(0,I.A)(g,[["render",r],["__scopeId","data-v-a7993532"]]);var D=f,M={name:"ActivitiesView",components:{ActivitiesList:D},computed:{...(0,s.L8)(["uid"])},mounted(){0==this.uid.length&&this.$router.replace({name:"home"})}};const N=(0,I.A)(M,[["render",e]]);var T=N},8822:function(t,a,n){n.r(a),n.d(a,{default:function(){return V}});var i=n(6768);function e(t,a,n,e,s,c){const o=(0,i.g2)("transaction-list");return(0,i.uX)(),(0,i.Wv)(o)}var s=n(782),c=n(4232);const o={class:"transaction-bank-account-title"},d={class:"transaction-bank-account-subtitle"},l={class:"create-transaction-container"},r={class:"bank-account-list-container"},u={class:"transaction-title"},v={class:"transaction-data-element"};function m(t,a,n,e,s,m){const L=(0,i.g2)("TransactionCreateEdit");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",o,(0,c.v_)(t.bankAccountData.name),1),(0,i.Lk)("div",d,(0,c.v_)(t.bankAccountData.balance)+"€ ",1),(0,i.Lk)("div",l,[(0,i.bF)(L,{docId:0,elData:"",onReloadTransactionsList:m.getTransactionsList},null,8,["onReloadTransactionsList"])]),(0,i.Lk)("div",r,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(s.transactionsList),(a=>((0,i.uX)(),(0,i.CE)("div",{key:a,class:"bank-account-element"},[(0,i.Lk)("div",u,[(0,i.eW)((0,c.v_)(s.transactionsList[a].name)+" ",1),(0,i.bF)(L,{docId:a,elData:s.transactionsList[a],onReloadTransactionsList:m.getTransactionsList},null,8,["docId","elData","onReloadTransactionsList"])]),(0,i.Lk)("div",v,[(0,i.Lk)("div",{class:(0,c.C4)([Number(s.transactionsList[a].amount)<0?"red-text":"green-text"])},(0,c.v_)(s.transactionsList[a].amount)+"€ ",3),(0,i.eW)(" | "),(0,i.Lk)("div",null,(0,c.v_)(t.activitiesList[s.transactionsList[a].activityId].name),1),(0,i.eW)(" | "),(0,i.Lk)("div",null,(0,c.v_)(s.transactionsList[a].date),1)])])))),128))])])}var L=n(5130);const h=t=>((0,i.Qi)("data-v-bba259de"),t=t(),(0,i.jt)(),t),k=h((()=>(0,i.Lk)("div",{class:"create-transaction-btn"},null,-1))),b=["id"],A={class:"close-btn-container"},p={class:"input-container"},y=h((()=>(0,i.Lk)("label",{for:"transaction-name"},"Name:",-1))),I={class:"input-container"},E=h((()=>(0,i.Lk)("label",{for:"transaction-amount"},"Amount:",-1))),C={class:"input-container"},g=h((()=>(0,i.Lk)("label",{for:"transaction-activity"},"Activity:",-1))),f={key:0,value:"0",selected:""},D=["value"],M={class:"input-container"},N=h((()=>(0,i.Lk)("label",{for:"transaction-date"},"Date:",-1)));function T(t,a,n,e,s,o){return(0,i.uX)(),(0,i.CE)("div",null,[0==n.docId?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"create-transaction-container",onClick:a[0]||(a[0]=(...t)=>o.openModal&&o.openModal(...t))},[k,(0,i.eW)(" Add Transaction ")])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"edit-btn",onClick:a[1]||(a[1]=(...t)=>o.openModal&&o.openModal(...t))})),(0,i.Lk)("dialog",{class:"modal-container",id:n.docId+"-modal"},[(0,i.Lk)("div",A,[(0,i.Lk)("div",{class:"close-btn",onClick:a[2]||(a[2]=(...t)=>o.closeModal&&o.closeModal(...t))})]),(0,i.Lk)("div",p,[y,(0,i.bo)((0,i.Lk)("input",{id:"transaction-name",type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>s.transactionName=t),class:"form-control"},null,512),[[L.Jo,s.transactionName]])]),(0,i.Lk)("div",I,[E,(0,i.bo)((0,i.Lk)("input",{id:"transaction-amount",type:"number","onUpdate:modelValue":a[4]||(a[4]=t=>s.transactionAmount=t),class:"form-control"},null,512),[[L.Jo,s.transactionAmount]])]),(0,i.Lk)("div",C,[g,(0,i.bo)((0,i.Lk)("select",{id:"transaction-activity","onUpdate:modelValue":a[5]||(a[5]=t=>s.transactionActivity=t),class:"form-control text-center"},[0==s.transactionActivity?((0,i.uX)(),(0,i.CE)("option",f,"--- Select an option ---")):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(Object.keys(t.activitiesList),(a=>((0,i.uX)(),(0,i.CE)("option",{key:a,value:a},(0,c.v_)(t.activitiesList[a].name),9,D)))),128))],512),[[L.u1,s.transactionActivity]])]),(0,i.Lk)("div",M,[N,(0,i.bo)((0,i.Lk)("input",{id:"transaction-date",type:"date","onUpdate:modelValue":a[6]||(a[6]=t=>s.transactionDate=t),class:"form-control"},null,512),[[L.Jo,s.transactionDate]])]),(0,i.Lk)("div",{class:"create-btn",onClick:a[7]||(a[7]=(...t)=>o.createEditTransaction&&o.createEditTransaction(...t))},"Create")],8,b)])}var X=n(9675),_={name:"TransactionsEdit",props:["docId","elData"],data(){return{transactionName:null,transactionAmount:null,transactionActivity:0,transactionDate:null}},computed:{...(0,s.L8)(["db","uid","bankAccountId","bankAccountData","activitiesList"])},methods:{...(0,s.PY)(["setBankAccountData"]),openModal(){this.transactionName=this.elData.name,this.transactionAmount=this.elData.amount,this.transactionActivity=this.elData.activityId,this.transactionDate=this.elData.date;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async updateBankAccountBalance(){const t=(0,X.H9)(this.db,"bankAccounts",this.bankAccountId),a=await(0,X.x7)(t);if(a.exists()){const n=Number(a.data().balance)+Number(this.transactionAmount);(0,X.mZ)(t,{balance:n}).then((t=>{const a=JSON.parse(JSON.stringify(this.bankAccountData));a.balance=n,this.setBankAccountData(a)}))}else console.log("Error on getting bankAccount current balance.")},async createEditTransaction(){if(0==this.docId){const t=this.uid+Date.now().toString();await(0,X.BN)((0,X.H9)(this.db,"transactions",t),{name:this.transactionName,amount:this.transactionAmount,activityId:this.transactionActivity,bankAccountId:this.bankAccountId,date:this.transactionDate}).then((t=>{this.updateBankAccountBalance(),this.$emit("reloadTransactionsList"),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,X.H9)(this.db,"transactions",this.docId);await(0,X.mZ)(t,{name:this.transactionName,amount:this.transactionAmount,activityId:this.transactionActivity,date:this.transactionDate}).then((t=>{this.updateBankAccountBalance(),this.$emit("reloadTransactionsList"),this.closeModal()})).catch((t=>{console.log(t)}))}}}},w=n(1241);const B=(0,w.A)(_,[["render",T],["__scopeId","data-v-bba259de"]]);var J=B,R={name:"TransactionList",components:{TransactionCreateEdit:J},data(){return{transactionsList:{}}},computed:{...(0,s.L8)(["db","bankAccountId","bankAccountData","activitiesList"])},methods:{async getTransactionsList(){const t=(0,X.P)((0,X.rJ)(this.db,"transactions"),(0,X._M)("bankAccountId","==",this.bankAccountId)),a=await(0,X.GG)(t);a.forEach((t=>{this.transactionsList[t.id]=t.data()}))}},mounted(){this.getTransactionsList()}};const W=(0,w.A)(R,[["render",m],["__scopeId","data-v-6c54e8c3"]]);var j=W,x={name:"TransactionsView",components:{TransactionList:j},computed:{...(0,s.L8)(["uid"])},mounted(){0==this.uid.length&&this.$router.replace({name:"home"})}};const F=(0,w.A)(x,[["render",e]]);var V=F}}]);
//# sourceMappingURL=about.5ada9215.js.map