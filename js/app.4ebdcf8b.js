(function(){"use strict";var t={7168:function(t,e,n){var a=n(5130),o=n(6768);function s(t,e,n,a,s,i){const r=(0,o.g2)("Header"),c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r),(0,o.bF)(c)],64)}const i=t=>((0,o.Qi)("data-v-b16c79e0"),t=t(),(0,o.jt)(),t),r={class:"app-header"},c=i((()=>(0,o.Lk)("div",{class:"graph-icon-container"},[(0,o.Lk)("div",{class:"graph-icon"})],-1))),u={key:0,class:"nav-bar-container"},d=i((()=>(0,o.Lk)("div",{class:"logout-icon"},null,-1))),l=[d];function p(t,e,n,a,s,i){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",r,[c,0!=t.uid.length?((0,o.uX)(),(0,o.CE)("nav",u,[(0,o.bF)(d,{class:"link-element",to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)("Accounts")])),_:1}),(0,o.eW)(" | "),(0,o.bF)(d,{class:"link-element",to:"/categories"},{default:(0,o.k6)((()=>[(0,o.eW)("Categories")])),_:1})])):(0,o.Q3)("",!0),0!=t.uid.length?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"logout-icon-container",onClick:e[0]||(e[0]=(...t)=>i.logoutUser&&i.logoutUser(...t))},l)):(0,o.Q3)("",!0)])}var h=n(5002),m=n(782),f={name:"Header",data(){return{}},computed:{...(0,m.L8)(["auth","uid"])},methods:{...(0,m.PY)(["setUid"]),logoutUser(){(0,h.CI)(this.auth).then((t=>{this.setUid(""),this.$router.replace({name:"home"})}))}}},b=n(1241);const k=(0,b.A)(f,[["render",p],["__scopeId","data-v-b16c79e0"]]);var g=k,v=n(6400),A=n(9675),L={components:{Header:g},data(){return{}},computed:{...(0,m.L8)(["uid"])},methods:{...(0,m.PY)(["setApp","setAuth","setDb","setUid"])},mounted(){const t={apiKey:"AIzaSyAo7NfVUZ7KQBnaK47rkT2B6KAYqvEaMps",authDomain:"pama-8b336.firebaseapp.com",projectId:"pama-8b336",storageBucket:"pama-8b336.appspot.com",messagingSenderId:"942670689497",appId:"1:942670689497:web:33f90709fe005e0f7d7ac8"},e=(0,v.Wp)(t);this.setApp(e);const n=(0,h.xI)(e);this.setAuth(n);const a=(0,A.aU)(e);this.setDb(a)}};const y=(0,b.A)(L,[["render",s]]);var C=y,w=n(1387);function E(t,e,n,a,s,i){const r=(0,o.g2)("login"),c=(0,o.g2)("bank-accounts-list");return 0==t.uid.length?((0,o.uX)(),(0,o.Wv)(r,{key:0})):((0,o.uX)(),(0,o.Wv)(c,{key:1}))}var I=n(4232);const D=t=>((0,o.Qi)("data-v-066e58df"),t=t(),(0,o.jt)(),t),B={key:0,class:"login-container"},j={class:"login-input-container"},N=D((()=>(0,o.Lk)("label",{for:"email"},"Email:",-1))),O={class:"login-input-container"},M=D((()=>(0,o.Lk)("label",{for:"password"},"Password:",-1)));function _(t,e,n,s,i,r){return i.visible?((0,o.uX)(),(0,o.CE)("div",B,[(0,o.Lk)("div",j,[N,(0,o.bo)((0,o.Lk)("input",{id:"email",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.email=t)},null,512),[[a.Jo,i.email]])]),(0,o.Lk)("div",O,[M,(0,o.bo)((0,o.Lk)("input",{id:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=t=>i.password=t),onKeydown:e[2]||(e[2]=(0,a.jR)(((...t)=>r.login&&r.login(...t)),["enter"]))},null,544),[[a.Jo,i.password]])]),(0,o.Lk)("div",{class:(0,I.C4)(["error-msg",[i.showErrorMsg?"":"not-visible"]])}," Wrong user or password ",2),(0,o.Lk)("div",{class:"login-btn",onClick:e[3]||(e[3]=(...t)=>r.login&&r.login(...t))}," Login ")])):(0,o.Q3)("",!0)}var U={name:"Login",data(){return{visible:!1,email:"",password:"",showErrorMsg:!1}},computed:{...(0,m.L8)(["app","auth","uid"])},methods:{...(0,m.PY)(["setUid"]),login(){(0,h.x9)(this.auth,this.email,this.password).then((t=>{const e=t.user;this.setUid(e.uid)})).catch((t=>{this.showErrorMsg=!0;t.code,t.message}))}},watch:{email(){this.showErrorMsg=!1},password(){this.showErrorMsg=!1}},mounted(){try{(0,h.hg)(this.auth,(t=>{t?(this.setUid(t.uid),this.visible=!0):(this.setUid(""),this.visible=!0)}))}catch(t){console.log(t),this.visible=!0}}};const P=(0,b.A)(U,[["render",_],["__scopeId","data-v-066e58df"]]);var S=P;const T=t=>((0,o.Qi)("data-v-7f6f87fd"),t=t(),(0,o.jt)(),t),F={class:"main-title"},X={class:"create-account-container"},x=T((()=>(0,o.Lk)("div",{class:"chart-btn"},null,-1))),q={class:"bank-account-list-container"},Q=["onClick"],W={class:"bank-account-title","data-transaction":"true"},J={class:"bank-account-balance","data-transaction":"true"};function K(t,e,n,a,s,i){const r=(0,o.g2)("BankAccountCreateEdit");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",F,[(0,o.eW)(" Bank Accounts "),(0,o.bF)(r,{docId:0,name:""})]),(0,o.Q3)("",!0),(0,o.Lk)("div",X,[(0,o.Lk)("div",{class:"btn-container",onClick:e[0]||(e[0]=e=>t.$router.replace({name:"query"}))},[x,(0,o.eW)(" Data Visualization ")])]),(0,o.Lk)("div",q,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys(s.bankAccountsList),(t=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"bank-account-element",onClick:e=>i.goToTransactions(t),"data-transaction":"true"},[(0,o.Lk)("div",W,[(0,o.eW)((0,I.v_)(s.bankAccountsList[t].name)+" ",1),(0,o.bF)(r,{docId:t,name:s.bankAccountsList[t].name},null,8,["docId","name"])]),(0,o.Lk)("div",J,(0,I.v_)(i.getBalanceFromBankAccount(t))+"â‚¬",1)],8,Q)))),128))])])}const H=t=>((0,o.Qi)("data-v-7e6c8f67"),t=t(),(0,o.jt)(),t),G=["id"],V={class:"close-btn-container"},Y={class:"input-container"},$=H((()=>(0,o.Lk)("label",{for:"ba-name"},"Name:",-1)));function z(t,e,n,s,i,r){return(0,o.uX)(),(0,o.CE)("div",null,[(n.docId,0==n.docId?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"create-account-btn",onClick:e[1]||(e[1]=(...t)=>r.openModal&&r.openModal(...t))})):((0,o.uX)(),(0,o.CE)("div",{key:2,class:"edit-btn",onClick:e[2]||(e[2]=(...t)=>r.openModal&&r.openModal(...t))}))),(0,o.Lk)("dialog",{class:"modal-container",id:n.docId+"-modal"},[(0,o.Lk)("div",V,[(0,o.Lk)("div",{class:"close-btn",onClick:e[3]||(e[3]=(...t)=>r.closeModal&&r.closeModal(...t))})]),(0,o.Lk)("div",Y,[$,(0,o.bo)((0,o.Lk)("input",{id:"ba-name",type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>i.bankAccountName=t)},null,512),[[a.Jo,i.bankAccountName]])]),(0,o.Lk)("div",{class:(0,I.C4)(["create-btn",[r.allowCreation?"":"btn-disabled"]]),onClick:e[5]||(e[5]=t=>r.allowCreation?r.createEditBankAccount():"")},(0,I.v_)(0==n.docId?"Create":"Save"),3)],8,G)])}var Z={name:"BankAccountsCreateEdit",props:["docId","name"],data(){return{bankAccountName:null}},computed:{...(0,m.L8)(["db","uid","appData"]),allowCreation(){return null!=this.bankAccountName&&""!=this.bankAccountName&&""!=this.bankAccountName.trim()&&this.bankAccountName.trim()==this.bankAccountName}},methods:{...(0,m.PY)(["setAppData"]),openModal(){this.bankAccountName=this.name;const t=document.getElementById(this.docId+"-modal");t.showModal()},closeModal(){const t=document.getElementById(this.docId+"-modal");t.close()},async createEditBankAccount(){if(0==this.docId){const t=this.uid+Date.now().toString(),e={name:this.bankAccountName,creationDate:Date.now(),lastEditionDate:Date.now()};await(0,A.BN)((0,A.H9)(this.db,"bankAccounts",t),e).then((n=>{this.appData[t]=e,this.setAppData(this.appData),this.closeModal()})).catch((t=>{console.log(t)}))}else{const t=(0,A.H9)(this.db,"bankAccounts",this.docId),e={name:this.bankAccountName,lastEditionDate:Date.now()};await(0,A.mZ)(t,e).then((t=>{const n=JSON.parse(JSON.stringify(this.appData[this.docId]));n.name=e.name,n.lastEditionDate=e.lastEditionDate,this.appData[this.docId]=n,this.setAppData(this.appData),this.closeModal()})).catch((t=>{console.log(t)}))}}}};const R=(0,b.A)(Z,[["render",z],["__scopeId","data-v-7e6c8f67"]]);var tt=R,et={name:"BankAccountsList",components:{BankAccountCreateEdit:tt},data(){return{bankAccountsList:{}}},computed:{...(0,m.L8)(["db","appData","categoriesList"])},methods:{...(0,m.PY)(["setBankAccountId","setAppData","setCategoriesList"]),async getBanksList(){const t=(0,A.P)((0,A.rJ)(this.db,"bankAccounts")),e=await(0,A.GG)(t);e.forEach((t=>{this.bankAccountsList[t.id]=t.data(),this.getTransactionsList(t.id)}))},async getTransactionsList(t){const e=(0,A.P)((0,A.rJ)(this.db,"transactions"),(0,A._M)("bankAccountId","==",t)),n=await(0,A.GG)(e);n.forEach((e=>{this.bankAccountsList[t]["transactions"]||(this.bankAccountsList[t]["transactions"]={}),this.bankAccountsList[t]["transactions"][e.id]=e.data()}))},goToTransactions(t){"true"==event.target.dataset.transaction&&(this.setBankAccountId(t),this.$router.replace({name:"transactions"}))},async getCategoriesList(){const t=[],e=(0,A.P)((0,A.rJ)(this.db,"categories")),n=await(0,A.GG)(e);n.forEach((e=>{t[e.id]=e.data()})),this.setCategoriesList(t)},getBalanceFromBankAccount(t){return this.bankAccountsList[t]["transactions"]?Object.values(this.bankAccountsList[t]["transactions"]).reduce(((t,e)=>e.amount+Math.round(100*t)/100),0):0}},mounted(){0==Object.values(this.appData).length&&this.getBanksList(),0==Object.keys(this.categoriesList).length&&this.getCategoriesList()},watch:{bankAccountsList:{handler(t,e){0!=Object.values(t).length&&t!=e&&this.setAppData(t),0==Object.values(t).length&&(this.bankAccountsList=this.appData)},immediate:!0,deep:!0}}};const nt=(0,b.A)(et,[["render",K],["__scopeId","data-v-7f6f87fd"]]);var at=nt,ot={name:"HomeView",components:{Login:S,BankAccountsList:at},computed:{...(0,m.L8)(["uid"])}};const st=(0,b.A)(ot,[["render",E]]);var it=st;const rt=[{path:"/",name:"home",component:it},{path:"/categories",name:"categories",component:()=>n.e(594).then(n.bind(n,2118))},{path:"/transactions",name:"transactions",component:()=>n.e(594).then(n.bind(n,1677))},{path:"/query",name:"query",component:()=>n.e(594).then(n.bind(n,8381))}],ct=(0,w.aE)({history:(0,w.Bt)(),routes:rt});var ut=ct,dt=(0,m.y$)({state:{app:"",auth:"",db:"",uid:"",bankAccountId:"",appData:{},categoriesList:{},query:{}},getters:{app(t){return t.app},auth(t){return t.auth},db(t){return t.db},uid(t){return t.uid},bankAccountId(t){return t.bankAccountId},appData(t){return t.appData},categoriesList(t){return t.categoriesList},query(t){return t.query}},mutations:{setApp(t,e){t.app=e},setAuth(t,e){t.auth=e},setDb(t,e){t.db=e},setUid(t,e){t.uid=e},setBankAccountId(t,e){t.bankAccountId=e},setAppData(t,e){t.appData=e},setCategoriesList(t,e){t.categoriesList=e},setQuery(t,e){t.query=e}},actions:{},modules:{}});(0,a.Ef)(C).use(dt).use(ut).mount("#app")}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],s=t[d][2];for(var r=!0,c=0;c<a.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[c])}))?a.splice(c--,1):(r=!1,s<i&&(i=s));if(r){t.splice(d--,1);var u=o();void 0!==u&&(e=u)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.480eca48.js"}}(),function(){n.miniCssF=function(t){return"css/about.dcd31dc6.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="project:";n.l=function(a,o,s,i){if(t[a])t[a].push(o);else{var r,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),d=0;d<u.length;d++){var l=u[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==e+s){r=l;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",e+s),r.src=a),t[a]=[o];var p=function(e,n){r.onerror=r.onload=null,clearTimeout(h);var o=t[a];if(delete t[a],r.parentNode&&r.parentNode.removeChild(r),o&&o.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/pama/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,a,o,s){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",n.nc&&(i.nonce=n.nc);var r=function(n){if(i.onerror=i.onload=null,"load"===n.type)o();else{var a=n&&n.type,r=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+": "+r+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=r,i.parentNode&&i.parentNode.removeChild(i),s(c)}};return i.onerror=i.onload=r,i.href=e,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},e=function(t,e){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===t||s===e))return o}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){o=i[a],s=o.getAttribute("data-href");if(s===t||s===e)return o}},a=function(a){return new Promise((function(o,s){var i=n.miniCssF(a),r=n.p+i;if(e(i,r))return o();t(a,r,null,o,s)}))},o={524:0};n.f.miniCss=function(t,e){var n={594:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=a(t).then((function(){o[t]=0}),(function(e){throw delete o[t],e})))}}}(),function(){var t={524:0};n.f.j=function(e,a){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var s=new Promise((function(n,a){o=t[e]=[n,a]}));a.push(o[2]=s);var i=n.p+n.u(e),r=new Error,c=function(a){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;r.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",r.name="ChunkLoadError",r.type=s,r.request=i,o[1](r)}};n.l(i,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,i=a[0],r=a[1],c=a[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(c)var d=c(n)}for(e&&e(a);u<i.length;u++)s=i[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},a=self["webpackChunkproject"]=self["webpackChunkproject"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(7168)}));a=n.O(a)})();
//# sourceMappingURL=app.4ebdcf8b.js.map